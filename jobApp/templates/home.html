{% extends 'base.html' %}
{% load static %}

{% block title %}Home - Remote Ready With Tess{% endblock %}

{% block content %}
    <!-- Custom CSS for animations and shadows -->
    <!-- This block ensures the custom styles are available when this template is rendered -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        .card-shadow {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .animate-fade-in-up {
            animation: fadeInUp 0.8s ease-out forwards;
            opacity: 0;
        }
        .delay-200 { animation-delay: 0.2s; }
        .delay-400 { animation-delay: 0.4s; }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>

    <!-- Hero Section -->
    <section class="hero-section bg-gradient-to-r from-blue-600 to-purple-600 text-white py-20 px-6 sm:px-10 lg:px-20 text-center relative overflow-hidden rounded-lg shadow-lg">
        <div class="absolute inset-0 z-0 opacity-10" style="background-image: url('https://tse4.mm.bing.net/th/id/OIP.JvN5qVqJujCT4wJhkeC0rgHaEK?rs=1&pid=ImgDetMain&o=7&rm=3'); background-size: cover; background-position: center;"></div>
        <div class="container mx-auto relative z-10">
            <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold leading-tight mb-4 animate-fade-in-up">
                Find Verified Remote Jobs<br>Build Your Career
            </h1>
            <p class="text-lg md:text-xl mb-8 max-w-2xl mx-auto animate-fade-in-up delay-200">
                We connect you with trusted job opportunities while giving you the tools to prepare, apply, and land your next role
            </p>
            <div class="flex flex-col md:flex-row justify-center space-y-4 md:space-y-0 md:space-x-4 animate-fade-in-up delay-400">
                <a href="{% url 'job_list' %}" class="bg-white text-blue-600 px-8 py-3 rounded-full font-semibold shadow-lg hover:bg-gray-100 transition-all duration-300 transform hover:scale-105 inline-flex items-center justify-center">
                    <i class="fas fa-briefcase mr-2"></i> Browse Jobs
                </a>
                <a href="{% url 'register' %}" class="bg-transparent border-2 border-white text-white px-8 py-3 rounded-full font-semibold hover:bg-white hover:text-blue-600 transition-all duration-300 transform hover:scale-105 inline-flex items-center justify-center">
                    <i class="fas fa-user-plus mr-2"></i> Register Now
                </a>
            </div>
        </div>
    </section>

    <!-- Verified Jobs Section (Grid Layout) -->
    <section class="py-16 px-6 md:px-8 lg:px-12 bg-gray-50">
        <div class="container mx-auto">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-12 flex items-center justify-center">
                <i class="fas fa-search text-blue-600 mr-3"></i> Explore Remote Opportunities
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                {% if verified_jobs %}
                    {% for job in verified_jobs %}
                        <div class="bg-white rounded-lg p-6 card-shadow h-full flex flex-col justify-between transform transition-transform duration-300 hover:scale-105 relative overflow-hidden">
                            {# Hot Job Banner #}
                            {% if job.is_hot_job %}
                                <span class="absolute top-0 right-0 mt-3 mr-3 bg-red-500 text-white text-xs font-bold uppercase px-2 py-0.5 rounded-full shadow-md flex items-center transform rotate-3 origin-top-right">
                                    <i class="fas fa-fire mr-1 text-sm"></i> Hot!
                                </span>
                            {% endif %}
                            {# Expired Job Banner #}
                            {% if job.is_expired %}
                                <span class="absolute top-0 left-0 mt-3 ml-3 bg-gray-700 text-white text-xs font-bold uppercase px-2 py-0.5 rounded-full shadow-md flex items-center transform -rotate-3 origin-top-left">
                                    <i class="fas fa-times-circle mr-1 text-sm"></i> Expired
                                </span>
                            {% endif %}

                            <div>
                                <h3 class="text-xl font-semibold text-gray-900 mb-2 mt-2 flex items-center">
                                    <i class="fas fa-building text-blue-600 mr-2"></i> {{ job.title }}
                                </h3>
                                <p class="text-blue-600 mb-2 flex items-center">
                                    <i class="fas fa-map-marker-alt mr-2 text-gray-500"></i> {{ job.company_name }} - {{ job.location }}
                                </p>
                                <p class="text-gray-600 text-sm mb-4 line-clamp-3">{{ job.description }}</p>
                            </div>
                            <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center text-sm text-gray-500 mt-auto">
                                <div class="flex flex-wrap gap-2 mb-2 sm:mb-0">
                                    <span class="inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium">
                                        <i class="fas fa-clock mr-1"></i> {{ job.job_type }}
                                    </span>
                                    {% if job.category %}<span class="inline-flex items-center px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium">
                                        <i class="fas fa-folder-open mr-1"></i> {{ job.category.name }}
                                    </span>{% endif %}
                                    <span class="inline-flex items-center px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium">
                                        <i class="fas fa-calendar-alt mr-1"></i> Posted: {{ job.date_posted|date:"M d, Y" }}
                                    </span>
                                    {# Job Expiry Date on list #}
                                    {% if job.job_expiry_date %}
                                        <span class="inline-flex items-center px-2.5 py-0.5 bg-red-100 text-red-800 rounded-full font-medium">
                                            <i class="fas fa-hourglass-end mr-1"></i> Expires: {{ job.job_expiry_date|date:"M d, Y" }}
                                        </span>
                                    {% else %}
                                        <span class="inline-flex items-center px-2.5 py-0.5 bg-gray-100 text-gray-700 rounded-full font-medium">
                                            <i class="fas fa-calendar-times mr-1"></i> No Expiry
                                        </span>
                                    {% endif %}
                                </div>
                            </div>
                            <!-- Divider and "View Job" Button -->
                            <hr class="my-4 border-gray-200">
                            <div class="text-center">
                                <a href="{% url 'job_detail' job.slug %}" class="bg-blue-600 text-white px-6 py-2 w-full font-semibold shadow-lg hover:bg-blue-700 transition-all duration-300 inline-flex items-center justify-center">
                                    <i class="fas fa-eye mr-2"></i> View Job
                                </a>
                            </div>
                        </div>
                    {% endfor %}
                {% else %}
                    <p class="text-center text-gray-600 col-span-full w-full py-10">
                        <i class="fas fa-info-circle mr-2"></i> No active jobs found at the moment. Please check back later!
                    </p>
                {% endif %}
            </div>
            <div class="text-center mt-12">
                <a href="{% url 'job_list' %}" class="bg-blue-600 text-white px-8 py-3 rounded-full font-semibold shadow-lg hover:bg-blue-700 transition-all duration-300 transform hover:scale-105 inline-flex items-center">
                    <i class="fas fa-list-alt mr-2"></i> View All Jobs
                </a>
            </div>
        </div>
    </section>

    <!-- Testimonial Section -->
    <section class="py-16 px-6 md:px-8 lg:px-12 bg-white">
        <div class="container mx-auto">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-12 flex items-center justify-center">
                <i class="fas fa-quote-left text-blue-600 mr-3"></i> What Our Users Say
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Testimonial Card 1 -->
                <div class="bg-gray-50 rounded-lg p-6 card-shadow border border-gray-200">
                    <p class="text-gray-700 italic mb-4 text-center">"Finally, a job portal I can trust. No fake offers, just real jobs and real results."</p>
                    <div class="flex flex-col items-center">
                        <img src="https://placehold.co/64x64/F0F0F0/888888?text=TO" alt="User Avatar" class="w-16 h-16 rounded-full mb-3 border-2 border-blue-300">
                        <p class="font-semibold text-gray-900">Tunde O.</p>
                        <p class="text-sm text-gray-600">Software Developer</p>
                    </div>
                </div>
                <!-- Testimonial Card 2 -->
                <div class="bg-gray-50 rounded-lg p-6 card-shadow border border-gray-200">
                    <p class="text-gray-700 italic mb-4 text-center">"This platform helped me land my first job after graduation. The process was smooth, and I felt confident every step of the way"</p>
                    <div class="flex flex-col items-center">
                        <img src="https://placehold.co/64x64/F0F0F0/888888?text=GA" alt="User Avatar" class="w-16 h-16 rounded-full mb-3 border-2 border-green-300">
                        <p class="font-semibold text-gray-900">Grace A.</p>
                        <p class="text-sm text-gray-600">Customer Service Executive</p>
                    </div>
                </div>
                <!-- Testimonial Card 3 -->
                <div class="bg-gray-50 rounded-lg p-6 card-shadow border border-gray-200">
                    <p class="text-gray-700 italic mb-4 text-center">"Finding relevant jobs was never easier. The powerful search functionality saved me so much time. Thank you, JobPortal!"</p>
                    <div class="flex flex-col items-center">
                        <img src="https://placehold.co/64x64/F0F0F0/888888?text=EM" alt="User Avatar" class="w-16 h-16 rounded-full mb-3 border-2 border-purple-300">
                        <p class="font-semibold text-gray-900">Emily White</p>
                        <p class="text-sm text-gray-600">Data Analyst</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section with Accordion -->
    <section class="py-16 px-6 md:px-8 lg:px-12 bg-gray-100">
        <div class="container mx-auto max-w-3xl">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-12 flex items-center justify-center">
                <i class="fas fa-question-circle text-blue-600 mr-3"></i> Frequently Asked Questions
            </h2>
            <div class="space-y-4">
                <!-- FAQ Item 1 -->
                <div class="accordion-item bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
                    <div class="accordion-header flex justify-between items-center p-5 cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors duration-200">
                        <h3 class="text-lg font-medium text-gray-800 flex items-center">
                            <i class="fas fa-question-circle text-blue-500 mr-3"></i> How do I apply for a job?
                        </h3>
                        <i class="fas fa-chevron-down text-gray-500 transition-transform duration-300 transform"></i>
                    </div>
                    <div class="accordion-content p-5 text-gray-700 border-t border-gray-200 hidden">
                        <p>To apply for a job, you must first register and log in. Once logged in, navigate to the job listing you are interested in and click the "Apply Now" button which will redirect you to the company's external application page.</p>
                    </div>
                </div>
                <!-- FAQ Item 2 -->
                <div class="accordion-item bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
                    <div class="accordion-header flex justify-between items-center p-5 cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors duration-200">
                        <h3 class="text-lg font-medium text-gray-800 flex items-center">
                            <i class="fas fa-question-circle text-blue-500 mr-3"></i> Is email verification required?
                        </h3>
                        <i class="fas fa-chevron-down text-gray-500 transition-transform duration-300 transform"></i>
                    </div>
                    <div class="accordion-content p-5 text-gray-700 border-t border-gray-200 hidden">
                        <p>Yes, email verification is required for all new registrations. After signing up, a verification link will be sent to your registered email address. Please click the link to activate your account before attempting to log in.</p>
                    </div>
                </div>
                <!-- FAQ Item 3 -->
                <div class="accordion-item bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
                    <div class="accordion-header flex justify-between items-center p-5 cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors duration-200">
                        <h3 class="text-lg font-medium text-gray-800 flex items-center">
                            <i class="fas fa-question-circle text-blue-500 mr-3"></i> How can I track my applications?
                        </h3>
                        <i class="fas fa-chevron-down text-gray-500 transition-transform duration-300 transform"></i>
                    </div>
                    <div class="accordion-content p-5 text-gray-700 border-t border-gray-200 hidden">
                        <p>Once logged in, you can visit your personal dashboard where you will find a summary of all the jobs for which you've clicked the 'Apply' link and options to manage your profile.</p>
                    </div>
                </div>
                <!-- FAQ Item 4 -->
                <div class="accordion-item bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
                    <div class="accordion-header flex justify-between items-center p-5 cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors duration-200">
                        <h3 class="text-lg font-medium text-gray-800 flex items-center">
                            <i class="fas fa-question-circle text-blue-500 mr-3"></i> Can I update my profile information?
                        </h3>
                        <i class="fas fa-chevron-down text-gray-500 transition-transform duration-300 transform"></i>
                    </div>
                    <div class="accordion-content p-5 text-gray-700 border-t border-gray-200 hidden">
                        <p>Absolutely! From your applicant dashboard, you can access your profile settings to update your personal details, change your password, and modify your email address.</p>
                    </div>
                </div>
                <!-- FAQ Item 5 -->
                <div class="accordion-item bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
                    <div class="accordion-header flex justify-between items-center p-5 cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors duration-200">
                        <h3 class="text-lg font-medium text-gray-800 flex items-center">
                            <i class="fas fa-question-circle text-blue-500 mr-3"></i> Is it free to use?
                        </h3>
                        <i class="fas fa-chevron-down text-gray-500 transition-transform duration-300 transform"></i>
                    </div>
                    <div class="accordion-content p-5 text-gray-700 border-t border-gray-200 hidden">
                        <p>Yes, our platform is completely free to use. You can create an account and apply for jobs without any cost.</p>
                    </div>
                </div>
                <!-- FAQ Item 6 -->
                <div class="accordion-item bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
                    <div class="accordion-header flex justify-between items-center p-5 cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors duration-200">
                        <h3 class="text-lg font-medium text-gray-800 flex items-center">
                            <i class="fas fa-question-circle text-blue-500 mr-3"></i> Are the jobs verified?
                        </h3>
                        <i class="fas fa-chevron-down text-gray-500 transition-transform duration-300 transform"></i>
                    </div>
                    <div class="accordion-content p-5 text-gray-700 border-t border-gray-200 hidden">
                        <p>Yes, every single job listing is carefully screened and approved by our team before it goes live on the site. We are committed to providing only legitimate and verified opportunities.</p>
                    </div>
                </div>
                <!-- FAQ Item 7 -->
                <div class="accordion-item bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
                    <div class="accordion-header flex justify-between items-center p-5 cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors duration-200">
                        <h3 class="text-lg font-medium text-gray-800 flex items-center">
                            <i class="fas fa-question-circle text-blue-500 mr-3"></i> Do you offer career support?
                        </h3>
                        <i class="fas fa-chevron-down text-gray-500 transition-transform duration-300 transform"></i>
                    </div>
                    <div class="accordion-content p-5 text-gray-700 border-t border-gray-200 hidden">
                        <p>Yes, we do! We offer a range of career support services, including resume reviews, interview preparation, and one-on-one career counseling to help you succeed.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Blog Section -->
    <section class="py-16 px-6 md:px-8 lg:px-12 bg-white">
        <div class="container mx-auto">
            <h2 class="text-3xl md:text-4xl font-bold text-center mb-12 flex items-center justify-center">
                <i class="fas fa-rss-square text-blue-600 mr-3"></i> Latest Blog Posts
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                {% if blog_posts %}
                    {% for post in blog_posts %}
                        <div class="bg-gray-50 rounded-lg p-6 card-shadow h-full flex flex-col justify-between transform transition-transform duration-300 hover:scale-105 border border-gray-200">
                            {% if post.image %}
                                <img src="{{ post.image.url }}" alt="{{ post.title }}" class="rounded-lg w-full h-48 object-cover mb-4">
                            {% else %}
                                <div class="w-full h-48 bg-gray-300 flex items-center justify-center rounded-lg mb-4">
                                    <i class="fas fa-blog text-gray-500 text-6xl"></i>
                                </div>
                            {% endif %}
                            <div>
                                <h3 class="text-xl font-semibold text-gray-900 mb-2 mt-2 flex items-center">
                                    <i class="fas fa-newspaper text-blue-600 mr-2"></i> {{ post.title }}
                                </h3>
                                <p class="text-gray-600 text-sm mb-4 line-clamp-3">{{ post.description }}</p>
                            </div>
                            <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center text-sm text-gray-500 mt-auto">
                                <div class="flex flex-wrap gap-2 mb-2 sm:mb-0">
                                    <span class="inline-flex items-center px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-medium">
                                        <i class="fas fa-calendar-alt mr-1"></i> Posted: {{ post.created_at|date:"M d, Y" }}
                                    </span>
                                    <span class="inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium">
                                        <i class="fas fa-user-circle mr-1"></i> By: {{ post.author.get_full_name|default:post.author.username }}
                                    </span>
                                </div>
                            </div>
                            <hr class="my-4 border-gray-200">
                            <div class="text-center">
                                <a href="{% url 'blog_detail' post.slug %}" class="bg-blue-600 text-white px-6 py-2 w-full font-semibold shadow-lg hover:bg-blue-700 transition-all duration-300 inline-flex items-center justify-center">
                                    <i class="fas fa-book-reader mr-2"></i> Read
                                </a>
                            </div>
                        </div>
                    {% endfor %}
                {% else %}
                    <p class="text-center text-gray-600 col-span-full w-full py-10">
                        <i class="fas fa-info-circle mr-2"></i> No blog posts found at the moment. Please check back later!
                    </p>
                {% endif %}
            </div>
            <div class="text-center mt-12">
                <a href="{% url 'blog_list' %}" class="bg-blue-600 text-white px-8 py-3 rounded-full font-semibold shadow-lg hover:bg-blue-700 transition-all duration-300 transform hover:scale-105 inline-flex items-center">
                    <i class="fas fa-book mr-2"></i> View All Posts
                </a>
            </div>
        </div>
    </section>

{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // FAQ Accordion Functionality
        const accordionHeaders = document.querySelectorAll('.accordion-header');

        accordionHeaders.forEach(header => {
            header.addEventListener('click', () => {
                const accordionItem = header.closest('.accordion-item');
                const accordionContent = accordionItem.querySelector('.accordion-content');
                const icon = header.querySelector('.fa-chevron-down');

                // Toggle visibility of the content
                accordionContent.classList.toggle('hidden');

                // Toggle icon rotation
                icon.classList.toggle('rotate-180');

                // Close other open accordions
                accordionHeaders.forEach(otherHeader => {
                    if (otherHeader !== header) {
                        const otherAccordionItem = otherHeader.closest('.accordion-item');
                        const otherAccordionContent = otherAccordionItem.querySelector('.accordion-content');
                        const otherIcon = otherHeader.querySelector('.fa-chevron-down');

                        if (!otherAccordionContent.classList.contains('hidden')) {
                            otherAccordionContent.classList.add('hidden');
                            otherIcon.classList.remove('rotate-180');
                        }
                    }
                });
            });
        });
    });
</script>
{% endblock %}
