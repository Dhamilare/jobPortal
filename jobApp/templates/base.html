<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Job Application Portal{% endblock %}</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for social media icons and general icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Lucide Icons (for dashboard icons) -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Custom Styles for Jaw-Dropping UI/UX (Inlined as requested) -->
    <style>
        /* Base styles: Apply Inter font and a subtle light background */
        body {
            font-family: 'Inter', sans-serif;
            /* Tailwind classes for background and text color, slightly adjusted for vibrancy */
            background: linear-gradient(to bottom right, #F0F9FF, #F8F4FF); /* Soft, subtle gradient background */
            color: #374151; /* Dark gray for text */
            line-height: 1.6; /* Improved readability */
            min-height: 100vh; /* Ensure body takes full viewport height */
            display: flex;
            flex-direction: column;
        }

        /* General Link Styling */
        a {
            color: #2563EB; /* Blue-600 */
            transition: color 0.2s ease-in-out;
            text-decoration: none; /* Ensure no underline by default */
        }
        a:hover {
            color: #1D4ED8; /* Blue-700 */
            /* text-decoration: underline; -- REMOVED THIS LINE */
        }

        /* Card Shadows: Enhanced for depth and modern Material Design feel */
        .card-shadow {
            /* Multiple shadows for a more realistic, layered depth effect */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), /* Larger, softer shadow */
                        0 4px 6px -2px rgba(0, 0, 0, 0.05),  /* Smaller, sharper shadow */
                        0 1px 3px 0 rgba(0, 0, 0, 0.02);     /* Very subtle base shadow */
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
        }

        .card-shadow:hover {
            /* Slight lift and stronger shadow on hover for interactivity */
            transform: translateY(-5px);
            box-shadow: 0 15px 20px -5px rgba(0, 0, 0, 0.15),
                        0 6px 8px -3px rgba(0, 0, 0, 0.08);
        }

        /* Input Fields: Clean, well-defined, and responsive focus states */
        .input-field {
            width: 100%;
            padding: 0.75rem 1rem; /* py-3 px-4 */
            border-radius: 0.5rem; /* rounded-lg */
            border: 1px solid #D1D5DB; /* border-gray-300 */
            color: #1F2937; /* text-gray-900 */
            background-color: #FFFFFF; /* bg-white */
            transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05); /* Subtle inner shadow for depth */
        }

        .input-field::placeholder {
            color: #9CA3AF; /* placeholder-gray-400 */
        }

        .input-field:focus {
            outline: none;
            border-color: #3B82F6; /* blue-500 */
            box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.45), inset 0 1px 2px rgba(0, 0, 0, 0.05); /* Custom blue glow */
        }

        /* Primary Button: Bold, gradient, with interactive press effect */
        .btn-primary {
            width: 100%;
            padding: 0.75rem 1.5rem; /* py-3 px-6 */
            font-weight: 600; /* font-semibold */
            border-radius: 0.5rem; /* rounded-lg */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06); /* shadow-lg */
            background: linear-gradient(to right, #4F46E5, #6366F1); /* Deep blue to lighter blue gradient */
            color: white;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            transform: translateY(0); /* For subtle press effect */
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem; /* space-x-2 */
        }

        .btn-primary:hover {
            background: linear-gradient(to right, #4338CA, #4F46E5); /* Darker gradient on hover */
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2); /* Stronger shadow on hover */
            transform: translateY(-2px); /* Slight lift */
        }

        .btn-primary:active {
            background: linear-gradient(to right, #3730A3, #4338CA); /* Even darker on active/click */
            transform: translateY(1px); /* Simulates a press */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* Reduced shadow on press */
        }

        /* Secondary Button: Clean, subtle, with a gentle hover effect */
        .btn-secondary {
            width: 100%;
            padding: 0.75rem 1.5rem; /* py-3 px-6 */
            font-weight: 600; /* font-semibold */
            border-radius: 0.5rem; /* rounded-lg */
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.06); /* shadow-md */
            background-color: #E5E7EB; /* gray-200 */
            color: #374151; /* gray-800 */
            border: 1px solid #D1D5DB; /* Light gray border */
            cursor: pointer;
            transition: all 0.3s ease-in-out;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem; /* space-x-2 */
        }

        .btn-secondary:hover {
            background-color: #D1D5DB; /* gray-300 */
            color: #1F2937; /* gray-900 */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .btn-secondary:active {
            background-color: #9CA3AF; /* gray-400 */
            transform: translateY(1px);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
        }

        /* Hero Section: More dynamic background and prominent text */
        .hero-section {
            background: linear-gradient(135deg, #6366F1 0%, #8B5CF6 100%); /* Diagonal gradient */
            padding-top: 5rem; /* py-20 */
            padding-bottom: 5rem; /* py-20 */
            padding-left: 1.5rem; /* px-6 */
            padding-right: 1.5rem; /* px-6 */
            text-align: center;
            position: relative;
            overflow: hidden; /* Hide any overflow from potential animations */
            color: white;
        }
        @media (min-width: 768px) { /* md:px-8 */
            .hero-section { padding-left: 2rem; padding-right: 2rem; }
        }
        @media (min-width: 1024px) { /* lg:px-12 */
            .hero-section { padding-left: 3rem; padding-right: 3rem; }
        }

        /* Optional: Subtle animation for hero section elements */
        .hero-section h1 {
            animation: fadeInScale 1s ease-out forwards;
        }
        .hero-section p {
            animation: fadeInScale 1.2s ease-out forwards;
            animation-delay: 0.2s;
            opacity: 0; /* Start hidden */
        }
        .hero-section .flex {
            animation: fadeInUp 1.2s ease-out forwards;
            animation-delay: 0.4s;
            opacity: 0; /* Start hidden */
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.95) translateY(20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* FAQ Accordion: Smoother transitions and clearer active state */
        .accordion-item {
            border: 1px solid #E5E7EB; /* border-gray-200 */
            border-radius: 0.5rem; /* rounded-lg */
            overflow: hidden;
            margin-bottom: 1rem; /* mb-4 */
            transition: all 0.3s ease-in-out;
        }

        .accordion-item.active {
            border-color: #60A5FA; /* blue-400 */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06); /* shadow-md */
        }

        .accordion-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            padding: 1rem 1.5rem; /* py-4 px-6 */
            text-align: left;
            font-weight: 500; /* font-medium */
            color: #4B5563; /* gray-700 */
            cursor: pointer;
            background-color: #F9FAFB; /* gray-50 */
            border-bottom: 1px solid #E5E7EB; /* Separator */
            transition: background-color 0.2s ease-in-out;
        }

        .accordion-header:hover {
            background-color: #F3F4F6; /* gray-100 */
        }

        .accordion-item.active .accordion-header {
            background-color: #EFF6FF; /* blue-50 */
            color: #2563EB; /* blue-700 */
            border-bottom-color: #60A5FA;
        }

        .accordion-content {
            padding: 0 1.5rem 1rem 1.5rem; /* px-6 pb-4 */
            color: #4B5563; /* gray-600 */
            display: none; /* Controlled by JS */
            max-height: 0; /* Initial state for animation */
            overflow: hidden;
            opacity: 0;
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out; /* Smooth slide down */
        }

        .accordion-item.active .accordion-content {
            display: block; /* Show content */
            max-height: 500px; /* Arbitrary large value to allow content to expand */
            opacity: 1;
        }

        .accordion-icon {
            transform: rotate(0deg);
            transition: transform 0.2s ease-in-out;
        }

        .accordion-item.active .accordion-icon {
            transform: rotate(180deg);
        }

        /* About Us Page Specific Styles */
        .remote-work-banner {
            border: 2px solid #D1D5DB; /* A slightly thicker, more defined border */
            border-radius: 0.75rem; /* More rounded corners */
            padding: 2.5rem; /* More padding */
            background: linear-gradient(to right, #F0F9FF, #F8F4FF); /* Subtle background gradient */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08); /* A softer shadow */
        }

        .remote-work-banner h1 {
            font-size: 3rem; /* Larger font size for impact */
            line-height: 1.2;
        }

        .remote-work-banner p {
            font-size: 1.25rem; /* Larger subtitle */
            color: #4B5563; /* Darker gray for better contrast */
        }

        .about-image-section {
            border-radius: 1rem; /* More pronounced rounded corners for images */
            overflow: hidden;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* Stronger shadow for images */
        }

        .about-image-section img {
            width: 100%;
            height: auto;
            object-fit: cover;
        }

        /* Specific style for Django's checkbox input for is_active */
        input[type="checkbox"].form-checkbox {
            height: 1.25rem; /* h-5 */
            width: 1.25rem; /* w-5 */
            color: #2563EB; /* text-blue-600 */
            border-radius: 0.25rem; /* rounded */
            border-color: #D1D5DB; /* border-gray-300 */
            --tw-ring-color: #3B82F6; /* focus:ring-blue-500 */
            transition: all 0.15s ease-in-out;
        }

        /* General form input styling for Django forms */
        input[type="text"],
        input[type="email"],
        input[type="password"],
        input[type="url"],
        textarea,
        select {
            /* These will inherit .input-field styles from above */
        }
    </style>

    {% block extra_head %}
    {% endblock %}
</head>
<body class="bg-gray-50 text-gray-800 flex flex-col min-h-screen">
    <!-- Header/Navigation -->
    <header class="bg-white shadow-sm py-4 px-6 md:px-8 lg:px-12 z-10">
        <nav class="container mx-auto flex justify-between items-center">
            <a href="{% url 'home' %}" class="text-2xl font-bold text-blue-600">JobPortal</a>
            <div class="hidden md:flex space-x-6 items-center">
                <a href="{% url 'home' %}" class="text-gray-700 hover:text-blue-600 font-medium transition-colors duration-200 flex items-center">
                    <i class="fas fa-home mr-2"></i> Home
                </a>
                <a href="{% url 'about' %}" class="text-gray-700 hover:text-blue-600 font-medium transition-colors duration-200 flex items-center">
                    <i class="fas fa-info-circle mr-2"></i> About Us
                </a>
                <a href="{% url 'job_list' %}" class="text-gray-700 hover:text-blue-600 font-medium transition-colors duration-200 flex items-center">
                    <i class="fas fa-briefcase mr-2"></i> Jobs
                </a>
                {% if user.is_authenticated %}
                    {% if user.is_applicant %}
                        <a href="{% url 'applicant_dashboard' %}" class="text-gray-700 hover:text-blue-600 font-medium transition-colors duration-200 flex items-center">
                            <i class="fas fa-tachometer-alt mr-2"></i> Dashboard
                        </a>
                    {% elif user.is_moderator or user.is_staff %}
                        <a href="{% url 'moderator_dashboard' %}" class="text-gray-700 hover:text-blue-600 font-medium transition-colors duration-200 flex items-center">
                            <i class="fas fa-chart-line mr-2"></i> Dashboard
                        </a>
                    {% endif %}
                    <a href="{% url 'logout' %}" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors duration-200 flex items-center">
                        <i class="fas fa-sign-out-alt mr-2"></i> Logout
                    </a>
                {% else %}
                    <a href="{% url 'login' %}" class="text-gray-700 hover:text-blue-600 font-medium transition-colors duration-200 flex items-center">
                        <i class="fas fa-sign-in-alt mr-2"></i> Login
                    </a>
                    <a href="{% url 'register' %}" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center">
                        <i class="fas fa-user-plus mr-2"></i> Register
                    </a>
                {% endif %}
            </div>
            <!-- Mobile Menu Button -->
            <button id="mobile-menu-button" class="md:hidden text-gray-700 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                </svg>
            </button>
        </nav>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden mt-4 space-y-2">
            <a href="{% url 'home' %}" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg flex items-center">
                <i class="fas fa-home mr-2"></i> Home
            </a>
            <a href="{% url 'about' %}" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg flex items-center">
                <i class="fas fa-info-circle mr-2"></i> About Us
            </a>
            <a href="{% url 'job_list' %}" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg flex items-center">
                <i class="fas fa-briefcase mr-2"></i> Jobs
            </a>
            {% if user.is_authenticated %}
                {% if user.is_applicant %}
                    <a href="{% url 'applicant_dashboard' %}" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg flex items-center">
                        <i class="fas fa-tachometer-alt mr-2"></i> Dashboard
                    </a>
                {% elif user.is_moderator or user.is_staff %}
                    <a href="{% url 'moderator_dashboard' %}" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg flex items-center">
                        <i class="fas fa-chart-line mr-2"></i> Dashboard
                    </a>
                {% endif %}
                <a href="{% url 'logout' %}" class="block px-4 py-2 bg-red-500 text-white rounded-lg text-center flex items-center justify-center">
                    <i class="fas fa-sign-out-alt mr-2"></i> Logout
                </a>
            {% else %}
                <a href="{% url 'login' %}" class="block px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg flex items-center">
                    <i class="fas fa-sign-in-alt mr-2"></i> Login
                </a>
                <a href="{% url 'register' %}" class="block px-4 py-2 bg-blue-600 text-white rounded-lg text-center flex items-center justify-center">
                    <i class="fas fa-user-plus mr-2"></i> Register
                </a>
            {% endif %}
        </div>
    </header>

    <main class="flex-grow">
        {% block content %}
        <!-- Content will be inserted here by child templates -->
        {% endblock %}
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8 px-6 md:px-8 lg:px-12 mt-auto">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center">
            <div class="mb-4 md:mb-0">
                <p>&copy; {% now "Y" %} JobPortal. All rights reserved.</p>
            </div>
            <div class="flex space-x-6">
                <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200"><i class="fab fa-instagram text-xl"></i></a>
                <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200"><i class="fab fa-linkedin-in text-xl"></i></a>
                <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200"><i class="fab fa-twitter text-xl"></i></a>
                <a href="#" class="text-gray-400 hover:text-white transition-colors duration-200"><i class="fab fa-tiktok text-xl"></i></a>
            </div>
        </div>
    </footer>

    <!-- Main JavaScript (Inlined as requested) -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Mobile navigation toggle
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');

            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }

            // FAQ Accordion functionality
            const accordionHeaders = document.querySelectorAll('.accordion-header');

            accordionHeaders.forEach(header => {
                header.addEventListener('click', () => {
                    const accordionItem = header.closest('.accordion-item');
                    const accordionContent = accordionItem.querySelector('.accordion-content');
                    const accordionIcon = header.querySelector('.accordion-icon');

                    // Toggle active class on the item
                    accordionItem.classList.toggle('active');

                    // Toggle visibility of the content with animation
                    if (accordionContent.style.maxHeight !== '0px' && accordionContent.style.maxHeight !== '') {
                        accordionContent.style.maxHeight = '0';
                        accordionContent.style.opacity = '0';
                        setTimeout(() => { accordionContent.style.display = 'none'; }, 300); // Hide after transition
                    } else {
                        accordionContent.style.display = 'block';
                        // Set a scrollHeight or a large fixed height for the transition to work
                        accordionContent.style.maxHeight = accordionContent.scrollHeight + 'px';
                        accordionContent.style.opacity = '1';
                    }

                    // Rotate the icon
                    accordionIcon.classList.toggle('rotate-180');
                });
            });

            // Initialize Lucide icons if present on the page
            if (typeof lucide !== 'undefined' && lucide.createIcons) {
                lucide.createIcons();
            }
        });
    </script>
    {% block extra_js %}
    {% endblock %}
</body>
</html>
